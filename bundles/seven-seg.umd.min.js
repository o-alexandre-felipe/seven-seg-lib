!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/platform-browser"),require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("seven-seg",["exports","@angular/common","@angular/platform-browser","@angular/core","@angular/forms"],e):e(t["seven-seg"]={},t.ng.common,t.ng.platformBrowser,t.ng.core,t.ng.forms)}(this,function(t,e,i,n,r){"use strict";var o=(Object.defineProperty(s.prototype,"digitState",{get:function(){for(var t=this.value.match(/(&[^;]*;?|.)([.,:;]?)/g),e=[],i=0;i<this.nDigs;++i)i+t.length<this.nDigs?e.push(""):e.push(t[i+t.length-this.nDigs]);return e},enumerable:!0,configurable:!0}),s.prototype.ngOnInit=function(){},s.decorators=[{type:n.Component,args:[{selector:"lib-seven-seg",template:'\n    <span *ngFor="let d of digitState">\n      <lib-seven-seg-cell [digit]="d" [color]="color"\n        [width]="width" [height]="height"\n        [spacing]="spacing" [thickness]="thickness"></lib-seven-seg-cell>\n    </span>\n  '}]}],s.ctorParameters=function(){return[]},s.propDecorators={nDigs:[{type:n.Input,args:["count"]}],value:[{type:n.Input,args:["chars"]}],thickness:[{type:n.Input,args:["thickness"]}],width:[{type:n.Input,args:["char-width"]}],height:[{type:n.Input,args:["char-height"]}],color:[{type:n.Input,args:["color"]}],spacing:[{type:n.Input,args:["spacing"]}]},s);function s(){this.nDigs=8,this.value="",this.thickness=3,this.width=18,this.height=42,this.color="black",this.spacing=1}function it(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}var l={0:"ABCDEF",1:"BC",2:"ABGED",3:"ABGCD",4:"BCFG",5:"AFGCD",6:"ACDEFG",7:"ABCF",8:"ABCDEFG",9:"ABCDFG","-":"G",A:"ABCEFG",a:"ABCDEG",B:"CDEFG",C:"DEFA",c:"DEG",D:"BCDEG",E:"ADEFG",e:"ABDEFG",F:"AEFG",G:"ACDEF",H:"BCEFG",h:"CEFG",i:"C",J:"BCDE",L:"FED",n:"CEG",N:"ABCEF",o:"CDEG",O:"ABCDEF",P:"ABEFG",q:"ABCFG",r:"EG",s:"ACDFG",t:"DEFG",U:"BCDEF",u:"CDE",V:"BCDEF",v:"CDE",Y:"BEFG","&o;":"ABFG","'":"F",'"':"BF",_:"D","=":"DG","[":"ADEF","]":"ABCD",";":":.,",",":".,",".":".",":":":."," ":""},a=(h.prototype.recalc=function(t){var e=t;for(var i in e)e[i]=this.sanitizer.bypassSecurityTrustStyle(e[i]);return e},h.prototype.setStyle=function(t,e){for(var i in console.log([t,e]),e)t.style[i]=this.sanitizer.bypassSecurityTrustStyle(e[i])},h.prototype.ngOnChanges=function(t){this.setStyle(this.box1.nativeElement,{borderWidth:this.thickness+" solid  transparent",borderBottomWidth:"calc(0.5*"+this.thickness+")",width:"calc("+this.width+"-4*"+this.thickness+")",height:"calc(0.5*"+this.height+"-1.5*"+this.thickness+")"}),this.setStyle(this.box2.nativeElement,{border:this.thickness+" solid "+this.color,borderTopWidth:"calc(0.5*"+this.thickness+")",width:"calc("+this.width+"-4*"+this.thickness+")",height:"calc(0.5*"+this.height+"-1.5*"+this.thickness+")"})},Object.defineProperty(h.prototype,"segState",{get:function(){var t,e,i,n,r,o,s={};try{for(var l=it("ABCDEFG."),a=l.next();!a.done;a=l.next())s[a.value]=!1}catch(y){t={error:y}}finally{try{a&&!a.done&&(e=l["return"])&&e.call(l)}finally{if(t)throw t.error}}try{for(var h=it(this.digit),c=h.next();!c.done;c=h.next()){var d=c.value;try{for(var p=it(this.segments[d]),g=p.next();!g.done;g=p.next())s[g.value]=!0}catch(v){r={error:v}}finally{try{g&&!g.done&&(o=p["return"])&&o.call(p)}finally{if(r)throw r.error}}}}catch(u){i={error:u}}finally{try{c&&!c.done&&(n=h["return"])&&n.call(h)}finally{if(i)throw i.error}}return s},enumerable:!0,configurable:!0}),h.prototype.ngOnInit=function(){console.log({"init digit":this.digit})},h.decorators=[{type:n.Component,args:[{selector:"lib-seven-seg-digit",template:'\n<div #digitBed>\n \x3c!-- <div class="seg-horizontal" [class.display-bottom]="segState.A"></div>\n  <div class="seg-vertical" [class.display-right]="segState.F"></div> --\x3e\n  <div [class.display-left]  ="segState.F"\n       [class.display-top]   ="segState.A"\n       [class.display-right] ="segState.B"\n       [class.display-bottom]="segState.G"\n       #box1>\n  </div>\n  \x3c!--\n  <div class="set-vertical" [class.display-left]="segState.B"></div>\n  <div class="seg-vertical" [class.display-right]="segState.E"></div>\n  --\x3e\n  <div [class.display-left]  ="segState.E"\n       [class.display-top]   ="segState.G"\n       [class.display-right] ="segState.C"\n       [class.display-bottom]="segState.D"\n       #box2>\n  </div>\n  \x3c!--\n  <div class="set-vertical" [class.display-top]="segState.C"></div>\n  <div class="seg-horizontal" [class.display-bottom]="segState.D"></div>\n  --\x3e\n\n</div>\n\n<div class="point-bed" [ngStyle]="{\'width\': sanitizer.bypassSecurityTrustStyle(\'calc(1.5*\'+thickness+\')\'),\n    \'padding\':sanitizer.bypassSecurityTrustStyle(\'calc(0.5*\'+thickness+\')\'),\n  \'height\': height}">\n  <div class="point0" [class.point-on]="segState[\':\']"\n       [ngStyle]="{\'background-color\': color, \'width\': thickness,\'height\': thickness,\n       \'top\':sanitizer.bypassSecurityTrustStyle(\'calc(2*\'+thickness+\')\')}"></div>\n  <div class="point1" [class.point-on]="segState[\'.\']"\n       [ngStyle]="{\'background-color\': color, \'width\': thickness,\'height\': thickness,\n       \'top\':sanitizer.bypassSecurityTrustStyle(\'calc(\' + height + \'-2*\'+thickness+\')\')}"></div>\n</div>\n',styles:["div.bed{position:relative;display:inline-block;overflow:hidden;border:2px dashed #000;width:27px;height:42px}div#box1{width:15px;height:15px;position:inherit;top:0;border:6px solid transparent;border-bottom-width:3px;border-radius:0}div#box2{width:15px;height:15px;position:inherit;bottom:0;border:6px solid transparent;border-top-width:3px;border-radius:0}div.seg-horizontal{width:15px;height:0}div.seg-vertical{width:0;height:15px}div.seg-box{width:15px;height:15px;border:6px solid transparent}div.display-left{border-left-color:inherit}div.display-right{border-right-color:inherit}div.display-top{border-top-color:inherit}div.display-bottom{border-bottom-color:inherit}div.point-bed{position:inherit;border:0;margin:0;top:0;right:0;display:inline-block;width:10px;height:42px}div.point1{position:relative;top:20px;visibility:hidden}div.point0{position:relative;top:5px;visibility:hidden}div.point-on{visibility:visible}"]}]}],h.ctorParameters=function(){return[{type:i.DomSanitizer}]},h.propDecorators={digit:[{type:n.Input,args:["digit"]}],color:[{type:n.Input,args:["color"]}],thickness:[{type:n.Input,args:["thickness"]}],width:[{type:n.Input,args:["width"]}],height:[{type:n.Input,args:["height"]}],box1:[{type:n.ViewChild,args:["box1"]}],box2:[{type:n.ViewChild,args:["box2"]}]},h);function h(t){for(var e in this.sanitizer=t,this.digit="",this.color="black",this.thickness="12px",this.width="0px",this.height="18px",this.segments=l,this.segments)this.segments[e.toLowerCase()]||(this.segments[e.toLowerCase()]=this.segments[e]),this.segments[e.toUpperCase()]||(this.segments[e.toUpperCase()]=this.segments[e])}var c=(Object.defineProperty(d.prototype,"digit",{get:function(){return this._digit},set:function(t){var e,i,n,r,o,s,l,a,h={};this._digit=t;try{for(var c=it("ABCDEFG.,:"),d=c.next();!d.done;d=c.next())h[b=d.value]=!1}catch(w){e={error:w}}finally{try{d&&!d.done&&(i=c["return"])&&i.call(c)}finally{if(e)throw e.error}}if("&"===this.digit[0])try{for(var p=it(this._digit),g=p.next();!g.done;g=p.next())";"!==(b=g.value)&&"&"!==b&&(h[b]=!0)}catch(m){n={error:m}}finally{try{g&&!g.done&&(r=p["return"])&&r.call(p)}finally{if(n)throw n.error}}else try{for(var y=it(this._digit),v=y.next();!v.done;v=y.next()){var u=v.value;try{for(var f=it(this.segments[u]),x=f.next();!x.done;x=f.next()){var b;h[b=x.value]=!0}}catch(C){l={error:C}}finally{try{x&&!x.done&&(a=f["return"])&&a.call(f)}finally{if(l)throw l.error}}}}catch(S){o={error:S}}finally{try{v&&!v.done&&(s=y["return"])&&s.call(y)}finally{if(o)throw o.error}}this.segState=h},enumerable:!0,configurable:!0}),d.prototype.ngOnChanges=function(t){this.fit()},d.prototype.fit=function(){function t(t){return t+"px"}var e,i,n,r,o,s,l,a,h,c,d,p,g,y,v,u,f,x,b,w,m,C=this.width,S=this.thickness,D=this.height,k={};for(this.bed.nativeElement.style.width=t(C),this.bed.nativeElement.style.height=t(D),this.bed.nativeElement.style.top=t(0),this.bed.nativeElement.style.left=t(0),m=this.bed.nativeElement.firstChild;null!==m;m=m.nextSibling)k[m.id]=m;try{for(var E=it("ABCDEFG"),F=E.next();!F.done;F=E.next())k[F.value].style.backgroundColor="transparent"}catch(J){e={error:J}}finally{try{F&&!F.done&&(i=E["return"])&&i.call(E)}finally{if(e)throw e.error}}try{for(var G=it(".:,"),B=G.next();!B.done;B=G.next())k[B.value].style.backgroundColor=this.color}catch(Y){n={error:Y}}finally{try{B&&!B.done&&(r=G["return"])&&r.call(G)}finally{if(n)throw n.error}}this.horizontalW=C-2*S,this.horizontalH=S;try{for(var A=it("ADG"),z=A.next();!z.done;z=A.next())(m=k[z.value]).style.width=t(C-1.5*S),m.style.height=t(S)}catch(K){o={error:K}}finally{try{z&&!z.done&&(s=A["return"])&&s.call(A)}finally{if(o)throw o.error}}this.verticalW=S,this.verticalH=.5*D;try{for(var I=it("BCEF"),O=I.next();!O.done;O=I.next())(m=k[O.value]).style.width=t(S),m.style.height=t(.5*D)}catch(Q){l={error:Q}}finally{try{O&&!O.done&&(a=I["return"])&&a.call(I)}finally{if(l)throw l.error}}k["."].style.width=t(S),k["."].style.height=t(S),k[":"].style.width=t(S),k[":"].style.height=t(S),k[","].style.width=t(.5*S),k[","].style.height=t(S);try{for(var M=it("ADEFG"),P=M.next();!P.done;P=M.next())k[P.value].style.left=t(0)}catch(R){h={error:R}}finally{try{P&&!P.done&&(c=M["return"])&&c.call(M)}finally{if(h)throw h.error}}try{for(var W=it("BC"),H=W.next();!H.done;H=W.next())k[H.value].style.left=t(C-3*S)}catch(X){d={error:X}}finally{try{H&&!H.done&&(p=W["return"])&&p.call(W)}finally{if(d)throw d.error}}try{for(var T=it(".:"),j=T.next();!j.done;j=T.next())k[j.value].style.left=t(C-1.5*S)}catch(Z){g={error:Z}}finally{try{j&&!j.done&&(y=T["return"])&&y.call(T)}finally{if(g)throw g.error}}k[","].style.left=t(C-S);try{for(var _=it("ABF"),q=_.next();!q.done;q=_.next())k[q.value].style.top=t(0)}catch($){v={error:$}}finally{try{q&&!q.done&&(u=_["return"])&&u.call(_)}finally{if(v)throw v.error}}try{for(var L=it("CEG:"),U=L.next();!U.done;U=L.next())k[U.value].style.top=t(.5*D-S)}catch(tt){f={error:tt}}finally{try{U&&!U.done&&(x=L["return"])&&x.call(L)}finally{if(f)throw f.error}}try{for(var V=it("D."),N=V.next();!N.done;N=V.next())k[N.value].style.top=t(D-2*S)}catch(et){b={error:et}}finally{try{N&&!N.done&&(w=V["return"])&&w.call(V)}finally{if(b)throw b.error}}k[","].style.top=t(D-S)},d.prototype.recalc=function(t){var e=t;for(var i in e)e[i]=this.sanitizer.bypassSecurityTrustStyle(e[i]);return console.log(e),e},d.prototype.ngOnInit=function(){},d.decorators=[{type:n.Component,args:[{selector:"lib-seven-seg-cell",template:'<div #bed class="bed">\n  <div class="seg horizontal" id="A" [class.on]="segState[\'A\']">\n    <lib-hexagon [width]="horizontalW" [height]="horizontalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg vertical" id="B" [class.on]="segState[\'B\']">\n    <lib-hexagon [width]="verticalW" [height]="verticalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg vertical" id="C" [class.on]="segState[\'C\']">\n    <lib-hexagon [width]="verticalW" [height]="verticalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg horizontal" id="D" [class.on]="segState[\'D\']">\n    <lib-hexagon [width]="horizontalW" [height]="horizontalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg vertical" id="E" [class.on]="segState[\'E\']">\n    <lib-hexagon [width]="verticalW" [height]="verticalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg vertical" id="F" [class.on]="segState[\'F\']">\n    <lib-hexagon [width]="verticalW" [height]="verticalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg horizontal" id="G" [class.on]="segState[\'G\']">\n    <lib-hexagon [width]="horizontalW" [height]="horizontalH" [color]="color" [spacing]="spacing"></lib-hexagon>\n  </div>\n  <div class="seg dot" id="." [class.on]="segState[\'.\']"></div>\n  <div class="seg colon" id=":" [class.on]="segState[\':\']"></div>\n  <div class="seg comma" id="," [class.on]="segState[\',\']"></div>\n</div>\n',styles:["div.bed{position:relative;display:inline-block;text-align:left;top:0;left:0;width:30px;height:40px}div.seg{position:absolute;display:block;background-color:#800;visibility:hidden}div.horizontal{width:20px;height:6px;left:0}div.vertical{width:6px;height:20px}div#A{top:0;left:0}div#B{left:14px;top:0}div#C{left:14px;top:14px}div#E,div#G{left:0;top:14px}div#D{left:0;top:28px}div#F{left:0;top:0}div.dot{top:28px;left:21.5px;width:6px;height:6px}div.colon{top:14px;left:21.5px;width:6px;height:6px}div.comma{top:34px;left:24px;width:3px;height:6px}div.on{visibility:visible}"]}]}],d.ctorParameters=function(){return[{type:i.DomSanitizer}]},d.propDecorators={digit:[{type:n.Input,args:["digit"]}],color:[{type:n.Input,args:["color"]}],spacing:[{type:n.Input,args:["spacing"]}],thickness:[{type:n.Input,args:["thickness"]}],width:[{type:n.Input,args:["width"]}],height:[{type:n.Input,args:["height"]}],bed:[{type:n.ViewChild,args:["bed"]}]},d);function d(t){for(var e in this.sanitizer=t,this._digit="",this.color="black",this.spacing=0,this.thickness=6,this.width=30,this.height=34,this.segments=l,this.segments)this.segments[e.toLowerCase()]||(this.segments[e.toLowerCase()]=this.segments[e]),this.segments[e.toUpperCase()]||(this.segments[e.toUpperCase()]=this.segments[e])}var p=(Object.defineProperty(g.prototype,"spacing",{get:function(){return this.s},set:function(t){this.s=t,this.fit()},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"width",{get:function(){return this.w},set:function(t){this.w=t,this.fit()},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this.h},set:function(t){this.h=t,this.fit()},enumerable:!0,configurable:!0}),g.prototype.fit=function(){var t,e,i,n,r,o,s,l=this.width,a=this.height,h=this.spacing*Math.sqrt(2);e=l<a?(i=-(s=l/2),o=n=(r=s)+h/2,t=0,a-4*s-h):(r=i=(s=a/2)+h/2,n=-s,t=l-4*(o=s)-h,0),this.t=s,this.x0=i,this.y0=n,this.x1=r,this.y1=o,this.sw=t,this.sh=e,console.log({w:l,h:a,t:s,s:h})},g.prototype.ngOnInit=function(){this.fit()},g.decorators=[{type:n.Component,args:[{selector:"lib-hexagon",template:"<div [style.borderColor]=\"color\" class=\"box\"\n     [ngStyle]=\"{width: w + 'px', height: h + 'px'}\">\n  <div #s0 [style.top.px]=\"y0\" [style.left.px]=\"x0\"\n       class='vis' [class.vertical0]=\"(w < h)\" [class.horizontal0]=\"(w > h)\"\n       [ngStyle]=\"{top: (y0)+'px', left: (x0)+'px',\n       width:(sw)+'px',height:(sh)+'px', 'border-width': t+'px'}\"\n  ></div>\n  <div [style.top.px]=\"y1\" [style.left.px]=\"x1\"\n       class='vis' [class.vertical1]=\"(w < h)\" [class.horizontal1]=\"(w > h)\"\n       [ngStyle]=\"{top: (y1)+'px', left: (x1)+'px',\n       width:(sw)+'px',height:(sh)+'px', 'border-width': t+'px'}\"\n  ></div>\n</div>\n",styles:["div.vis{border-style:solid;border-color:transparent;position:absolute}div.vertical0{left:-50%;border-right-color:inherit}div.vertical1{left:50%;border-left-color:inherit}div.horizontal0{top:-50%;border-bottom-color:inherit}div.horizontal1{top:50%;border-top-color:inherit}div.box{position:relative;display:inline-block;top:0;left:0;overflow:unset;vertical-align:top}"]}]}],g.ctorParameters=function(){return[]},g.propDecorators={color:[{type:n.Input,args:["color"]}],spacing:[{type:n.Input,args:["spacing"]}],width:[{type:n.Input,args:["width"]}],height:[{type:n.Input,args:["height"]}]},g);function g(){this.color="black"}var y=(v.prototype.ngOnInit=function(){},v.decorators=[{type:n.Component,args:[{selector:"lib-seg-settings",template:'<table>\n  <tr>\n    <td>Sample sharacters</td>\n    <td>\n      <input type="text" [(ngModel)]="chars" />\n    </td>\n  </tr>\n  <tr>\n    <td>Color</td>\n    <td>\n      <input type="text" [(ngModel)]="color" />\n    </td>\n  </tr>\n  <tr>\n    <td>Length</td>\n    <td>\n      <input type="number"  min="0" max="1000" [(ngModel)]="count" />\n    </td>\n  </tr>\n  <tr>\n    <td>Thickness</td>\n    <td>\n      <input type="number" min="0" max="1000" [(ngModel)]="thickness" />\n    </td>\n  </tr>\n  <tr>\n    <td>Spacing</td>\n    <td>\n      <input type="number" min="0" max="1000" [(ngModel)]="spacing" />\n    </td>\n  </tr>\n  <tr>\n    <td>Width</td>\n    <td>\n      <input type="number" min="0" max="1000" [(ngModel)]="width" />\n    </td>\n  </tr>\n  <tr>\n    <td>Height</td>\n    <td>\n      <input type="number" min="0" max="1000" [(ngModel)]="height" />\n    </td>\n  </tr>\n</table>\n\n<div > {{count}} chars from {{chars}}, displayed in color {{color}}</div>\n<div class="display">\n    <lib-seven-seg [thickness]="thickness" [spacing]="spacing" [char-height]="height" [char-width]="width" [chars]="chars" [count]="count" [color]="color"></lib-seven-seg>\n</div>\n\x3c!--\n<div *ngFor="let p of [{\'w\':20,\'h\':50},{\'w\':4,\'h\':39},{\'w\':90,\'h\':13}]">\n  <lib-hexagon [width]="p.w" [height]="p.h" color="orange"></lib-hexagon>\n  width: {{p.w}}, height: {{p.h}};\n</div>\n--\x3e\n',styles:["div.display{background-color:transparent;border:2px #000;display:block}input[type=number]{text-align:right}table{background-color:#dfb}"]}]}],v.ctorParameters=function(){return[]},v.propDecorators={b1:[{type:n.ViewChild,args:["box1"]}]},v);function v(){this.thickness=6,this.spacing=1,this.count=20,this.chars="7-seg. display",this.color="#f00",this.width=40,this.height=60}var u=(f.decorators=[{type:n.NgModule,args:[{declarations:[o,a,c,p,y],imports:[e.CommonModule,r.FormsModule],exports:[o,c,p,y]}]}],f);function f(){}t.SevenSegModule=u,t.SevenSegComponent=o,t.SevenSegDigitComponent=a,t.SevenSegCellComponent=c,t.HexagonComponent=p,t.ɵa=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=seven-seg.umd.min.js.map